---
title: "How to make a static website"
date: 2020-12-26T16:03:51+01:00
draft: false
---

# Introduction

In this article I'll explain how I build my first website using the *static site generator* [**Hugo**](https://gohugo.io). We'll discuss how to build your personal website locally and publish it.

My main goal was to build a website to write articles about topics I'm interested in. First let's talk about some requirements I had in the first place:

- Write articles with a markup language ([Markdown](https://en.wikipedia.org/wiki/Markdown))
- Minimalistic, fast and good looking
- Free of charge
- Display of mathematical expressions described via a LaTeX-style syntax

In general a *static site generator* builds a website which is delivered to the user exactly as it is stored. In contrast, a *dynamic website* is generated by a web application and may have a different visual appearance for different users (e.g. Twitter).

Thus, the workflow for *static site generators* is as following:
1. Write content (using *Markdown* as *writing format*)
2. Compile website (convert to *html* as publishing format)
3. Upload website to server (e.g. *GitHub*)
4. Go back to 1.


The advantage of a *static website* is that it is precompiled, therefore it is *fast*, *secure* and *less complex* than *dynamic websites*.

[Hugo](https://gohugo.io) is one of many  *static site generators* which offers many themes and tutorials as well as a good documentation.

## 1. Install Hugo
First, we install hugo on our device. In this case we are using [Homebrew](https://brew.sh) which is package manager for Mac.
```bash
brew install hugo
```

## 2. Setup your Hugo project
Second, we create a directory which will store all files which belong to our website by calling ```hugo new site <website-name>```:
```bash
hugo new site example-hugo-site
cd example-hugo-site
git init
```

This command will create a couple of folders and most importantly a configuartion file called *config.toml*.

## 3. Select a theme
In order to visualize the content of your webpage you will need a proper theme, e.g., [Hello Friend NG](https://github.com/rhazdon/hugo-theme-hello-friend-ng.git).

We add this theme to our Hugo project by calling the following commands:
```bash
git clone https://github.com/rhazdon/hugo-theme-hello-friend-ng.git themes/hello-friend-ng
git submodule add https://github.com/rhazdon/hugo-theme-hello-friend-ng.git themes/hello-friend-ng
```

This theme contains an example site and a corresponding configuration file which we will use for our homepage by copying it to our project.
```bash
cp -r ./themes/hello-friend-ng/exampleSite/* .
```

Now we just need to specify the folder which stores the theme itself by adapting the configuration file (*config.toml*) as following:
```config
themesDir = "themes"
```

In this file you can also specify a lot of options like your name, title, .... Just have a look and do some experiments.

## 4. Create new posts
In general all articles are save at ```./content/posts```. In order to create a new article just run the following command:
```bash
hugo new content/posts/first-post.md
```

This create a new post called ```first-post.md```. However, by default a new post is flagged as a *draft* and therefore is not displayed. In case you want to publish an article just open the file and set the corresponding flag to *false*.
```config
---
title: "First Post"
date: 2020-12-26T17:44:38+01:00
draft: false
---
```
Now you can write some text below the header of this file.

## 5. Compile and Hugo Server
In the next step we convert our *.md* files (writing format) to *.html* files (publishing format) by calling the following command:
```bash
hugo
```
in our project folder - that's it! Now you should see some *.html* and *.css* files in the ```docs``` folder.

Hugo has also a build-in server to render your local website on the fly.
Just call the following command
```bash
hugo server
```
to visualize the whole website locally. This is a convenient tool to write and check articles while writing. In case you also want to enforce to render *drafts* just set the corresponding flag ```-D``` as follwing:
```bash
hugo -D server
```

## 6. Make your website public
Everything we did so far is on your local machine. However, we want to make our website public by using 
*GitHub Pages* - this is a free service to host *static websites* on *GitHub*.

Just create a new repository (public) and add the remote branch to your local repository.
```bash
git remote add origin git@github.com:JaWeyl/mysite.git
```

Next we need to make some changes to our configuration file in order to host our website on *GitHub* properly.

First, let's define the target folder of our compiled website in our configuration file as following:
```config
publishDir = "docs"
```

We also need to specify the url of our website which - by default - consists of your *GitHub* username and the name of your repository:
```config
baserul = "https://jaweyl.github.io/mysite/"
```

Now we also need to tell *GitHub* where the compiled version of our website lives s.t. it can be displayed.
This needs to be specified within the settings:

<!-- {{< image src="/media/images/github-pages-settings.png" alt="GitHub Settings" position="center" style="border-radius: 8px;" >}} -->

{{< figure src="/media/images/github-pages-settings.png" alt="GitHub Settings" position="center" style="border-radius: 8px;" caption="GitHub Settings to publish your website" captionPosition="left" captionStyle="color: red;" >}}

There is actually only the option to select the ```docs``` directory. This is also why we previously selected this directory as the output directory for our compiled website.

In the next step we **compile** our hugo project to build the actual website. 

Finally, push your code to the remote repository and visit your own homepage!

## 7. MathJax for Mathematical Expressions
We also want to display mathematical expressions described via LaTex-style syntax.
Now, there is a JavaScript library called *MathJax* that enables to render typeset mathematics on your website. Just include the following code snippet to the source of your page:

```html
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
```

To ensure that this code is included in all pages you can just paste it the *footer.html* which can be found at ```/themes/layouts/partials```. For exmaple my *footer.html* looks like the following:
```html
<footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; {{ now.Format "2006" }}</span>
            {{ if .Site.Author.name }}
                <span><a href="{{ .Site.BaseURL }}">{{ .Site.Author.name }}</a></span>
            {{ end }}
            {{ if .Site.Copyright }}
                <span>{{ .Site.Copyright| safeHTML }}</span>
            {{ end }}
            {{- with (not (in (.Site.Language.Get "disableKinds") "RSS")) }}<span><a href="{{ "posts/index.xml" | absLangURL }}" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>{{ end }}
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>{{ .Site.Params.footerLeft | default "Powered by <a href=\"http://gohugo.io\">Hugo</a>" | safeHTML }}</span>
            <span>{{ .Site.Params.footerRight | default "Made with &#10084; by <a href=\"https://github.com/rhazdon\">Djordje Atlialp</a>" | safeHTML }}</span>
          </div>
    </div>
    <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</footer>
```
Now it becomes easy to write mathematical expressions like: $$c^2=a^2 + b^2$$

### References
- Thanks to [GeekLaunch](https://www.youtube.com/watch?v=3wkR8GyDODs) for an excellent tutorial about how to build a *static website*.
- [MathJax Support](https://bwaycer.github.io/hugo_tutorial.hugo/tutorials/mathjax/)